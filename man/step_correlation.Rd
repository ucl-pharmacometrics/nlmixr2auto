% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sf.operator.R
\name{step_correlation}
\alias{step_correlation}
\title{Screen ETA correlation (on vs off)}
\usage{
step_correlation(
  dat,
  state = list(),
  search.space = "ivbase",
  param_table = NULL,
  penalty.control = NULL,
  precomputed_results_file = NULL,
  filename = NULL,
  ...
)
}
\arguments{
\item{dat}{Data frame passed to \code{mod.run()}.}

\item{state}{List-like with:
\itemize{
\item \code{best_code}: starting named integer/numeric vector; if \code{NULL}, \code{base_model()} is used.
\item \code{modi}: optional; forwarded to \code{mod.run()} (default \code{1L}).
}}

\item{search.space}{Character scalar: \code{"ivbase"} or \code{"oralbase"}.}

\item{param_table}{Parameter table passed to \code{mod.run()}.}

\item{penalty.control}{Optional penalty control object forwarded to \code{mod.run()}.}

\item{...}{Additional arguments forwarded to \code{mod.run()}. May include
\code{custom_base} for \code{base_model()} when \code{state$best_code} is \code{NULL}.}
}
\value{
A list with:
\itemize{
\item \code{results_table}: \code{data.frame} with columns Step, Model name, Model code, Fitness.
\item \code{best_code}: named integer vector of the best candidateâ€™s model code.
\item \code{best_row}: one-row \code{data.frame} (the best candidate).
}
}
\description{
Tests whether enabling ETA correlation (\code{mcorr = 1}) improves the fitness
over keeping it disabled (\code{mcorr = 0}), while keeping all other fields fixed.
}
\examples{
\dontrun{
dat <- your_data
param_table <- your_param_table
state <- list(best_code = base_model("ivbase"), modi = 1L)

result_corr <- step_correlation(
 dat = dat,
 search.space = "ivbase",
 param_table = param_table,
 penalty.control = penaltyControl()
)
result_corr$results_table
result_corr$best_code
result_corr$best_row
}

}
